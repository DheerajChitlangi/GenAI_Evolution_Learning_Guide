<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GenAI & Prompting ‚Äî Complete Implementation Guide</title>
<style>
  body {font-family: "Segoe UI", Arial, sans-serif; background:#f9fafc; color:#222; margin:0;}
  section {padding:40px 60px; border-bottom:1px solid #e0e0e0;}
  h1,h2,h3,h4 {margin-top:0;color:#003366;}
  h1 {font-size:38px; text-align:center; margin:40px 0 20px 0;}
  h2 {font-size:28px; margin-top:30px; border-bottom:3px solid #667eea; padding-bottom:10px;}
  h3 {font-size:22px; margin-top:20px; color:#004a99;}
  h4 {font-size:18px; margin-top:15px; color:#333;}
  
  .hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 60px;
    text-align: center;
    border-bottom: none;
  }
  .hero h1 {color: white; font-size: 42px; margin-bottom: 15px;}
  .hero .subtitle {font-size: 20px; opacity: 0.95; margin-bottom: 20px;}
  
  .tl-dr {
    background: #eaf4ff;
    border-left: 5px solid #004a99;
    padding: 25px;
    margin: 20px 0;
    border-radius: 8px;
  }
  .tl-dr strong {font-size: 18px; color: #003366;}
  
  .highlight {background:#eaf4ff; padding:20px; border-left:5px solid #004a99; border-radius: 8px; margin: 20px 0;}
  .warning {background:#fff4e6; border-left:5px solid:#f59e0b; padding:20px; border-radius:8px; margin:20px 0;}
  .success {background:#e6f7f1; border-left:5px solid:#006400; padding:20px; border-radius:8px; margin:20px 0;}
  .danger {background:#ffe6e6; border-left:5px solid:#dc2626; padding:20px; border-radius:8px; margin:20px 0;}
  
  .grid {display:flex; flex-wrap:wrap; gap:20px; margin: 20px 0;}
  .card {
    flex:1 1 300px;
    border:1px solid #ddd;
    border-radius:10px;
    background:white;
    padding:25px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  .card h3 {margin-top:0; color:#003366;}
  .card h4 {margin-top:15px; color:#004a99;}
  
  .code-block {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 20px;
    border-radius: 8px;
    overflow-x: auto;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    line-height: 1.6;
  }
  .code-block .comment {color: #6a9955;}
  .code-block .keyword {color: #569cd6;}
  .code-block .string {color: #ce9178;}
  .code-block .function {color: #dcdcaa;}
  .code-block .class {color: #4ec9b0;}
  
  .comparison-table {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
  }
  .before-box {
    background: #fff5f5;
    border-left: 5px solid #f56565;
    padding: 20px;
    border-radius: 8px;
  }
  .after-box {
    background: #f0fff4;
    border-left: 5px solid #48bb78;
    padding: 20px;
    border-radius: 8px;
  }
  .before-box h4 {color: #c53030;}
  .after-box h4 {color: #2f855a;}
  
  table {border-collapse: collapse; width:100%; margin:20px 0;}
  th, td {border:1px solid #ddd; padding:12px; text-align:left; vertical-align: top;}
  th {background:#003366; color:#fff; font-weight: 600;}
  tr:nth-child(even){background:#f2f6fa;}
  
  .technique-box {
    background: white;
    border: 2px solid #667eea;
    border-radius: 10px;
    padding: 25px;
    margin: 20px 0;
  }
  
  .example-box {
    background: #f8f9fa;
    border-left: 4px solid #667eea;
    padding: 20px;
    margin: 20px 0;
    border-radius: 8px;
  }
  
  .prompt-template {
    background: #1e1e1e;
    color: #d4d4d4;
    padding: 20px;
    border-radius: 8px;
    margin: 15px 0;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.8;
  }
  .prompt-section {color: #4ec9b0; font-weight: bold;}
  .prompt-example {color: #ce9178;}
  .prompt-instruction {color: #dcdcaa;}
  
  @media (max-width: 768px) {
    section {padding: 30px 20px;}
    .grid, .comparison-table {grid-template-columns: 1fr;}
    h1 {font-size: 32px;}
  }
</style>
</head>
<body>

<div class="hero">
  <h1>ü§ñ GenAI & Prompting</h1>
  <div class="subtitle">Stage 3: Large Language Models with Few-Shot Learning</div>
  <p style="max-width: 800px; margin: 20px auto; font-size: 16px; line-height: 1.6;">
    The breakthrough that changed everything ‚Äî LLMs that understand natural language, 
    learn from examples, and generate human-like responses. Fast to build, but requires 
    careful prompt engineering.
  </p>
</div>

<section>
  <h2>üéØ What is GenAI + Prompting?</h2>
  
  <div class="tl-dr">
    <strong>TL;DR</strong><br>
    Use Large Language Models (like Gemini, GPT-4, Claude) with carefully crafted prompts to solve problems. 
    No training data needed ‚Äî just write instructions and provide examples. The model figures out the pattern 
    and applies it to new cases. Fast to prototype but can hallucinate without proper constraints.
  </div>
  
  <h3>The Revolutionary Change</h3>
  
  <div class="comparison-table">
    <div class="before-box">
      <h4>‚ùå Before GenAI (Stages 1-2)</h4>
      <ul style="font-size: 14px; line-height: 1.8;">
        <li><strong>Rule-Based:</strong> Write explicit rules for every case</li>
        <li><strong>Traditional ML:</strong> Collect 1000s of labeled examples</li>
        <li><strong>Feature Engineering:</strong> Manually craft features</li>
        <li><strong>Training Time:</strong> Days to weeks</li>
        <li><strong>Rigid:</strong> Breaks with new patterns</li>
      </ul>
      <p style="margin-top: 15px; font-weight: 600;">üìä Development: 6-8 weeks</p>
    </div>
    
    <div class="after-box">
      <h4>‚úÖ With GenAI (Stage 3)</h4>
      <ul style="font-size: 14px; line-height: 1.8;">
        <li><strong>Natural Language:</strong> Write instructions in plain English</li>
        <li><strong>Few-Shot Learning:</strong> Provide 3-5 examples</li>
        <li><strong>Zero Training:</strong> No model training needed</li>
        <li><strong>Immediate:</strong> Works instantly</li>
        <li><strong>Flexible:</strong> Adapts to new patterns</li>
      </ul>
      <p style="margin-top: 15px; font-weight: 600;">üöÄ Development: 1-2 days</p>
    </div>
  </div>
  
  <h3>How It Works for L1 IT Support</h3>
  
  <p>Instead of writing code or training models, you write a prompt:</p>
  
  <div class="prompt-template">
<span class="prompt-section">[ROLE]</span>
You are an L1 IT Support Agent for a banking data platform.

<span class="prompt-section">[CONTEXT]</span>
You handle issues like: pipeline failures, data quality, access requests, query optimization.

<span class="prompt-section">[EXAMPLES]</span>
<span class="prompt-example">Ticket: "Pipeline job-456 failed with schema mismatch error"
Response: This is a schema validation issue. Run schema_sync_job for the affected 
table, then restart the pipeline. ETA: 10 minutes.</span>

<span class="prompt-example">Ticket: "Query timeout on dashboard_report"
Response: Your query exceeded the 30s limit. Add indexes on frequently filtered 
columns or increase the timeout setting. I can help with either approach.</span>

<span class="prompt-section">[TASK]</span>
<span class="prompt-instruction">New Ticket: {user_ticket}</span>

Provide:
1. Issue category
2. Root cause analysis
3. Step-by-step solution
4. Estimated resolution time
  </div>
  
  <div class="success">
    <strong>That's it!</strong> The LLM understands the pattern from examples and applies it to new tickets. 
    No training, no feature engineering, no weeks of development.
  </div>
</section>

<section>
  <h2>üèóÔ∏è Architecture & Implementation</h2>
  
  <h3>Basic Setup with Gemini</h3>
  
  <div class="code-block">
<span class="comment"># Install Gemini SDK</span>
pip install google-generativeai --break-system-packages

<span class="comment"># Set up authentication</span>
<span class="keyword">export</span> GOOGLE_API_KEY=<span class="string">"your-api-key-here"</span>
  </div>
  
  <h3>Simple Implementation</h3>
  
  <div class="code-block">
<span class="keyword">import</span> google.generativeai <span class="keyword">as</span> genai
<span class="keyword">from</span> typing <span class="keyword">import</span> Dict

<span class="comment"># Configure API</span>
genai.configure(api_key=<span class="string">"YOUR_API_KEY"</span>)

<span class="comment"># Initialize model</span>
model = genai.GenerativeModel(<span class="string">'gemini-1.5-pro'</span>)

<span class="keyword">def</span> <span class="function">classify_support_ticket</span>(ticket_description: <span class="keyword">str</span>) -> Dict:
    <span class="string">"""
    Classify and provide solution for support ticket using GenAI.
    
    Args:
        ticket_description: User's ticket description
        
    Returns:
        Dict with category, solution, and reasoning
    """</span>
    
    <span class="comment"># Construct prompt with role, examples, and task</span>
    prompt = <span class="string">f"""You are an L1 IT Support Agent for a banking data platform.

ROLE: Analyze support tickets and provide solutions for:
- Pipeline failures (schema errors, timeouts, dependencies)
- Data quality issues (null values, duplicates, freshness)
- Access requests (permissions, API keys)
- Query optimization (slow queries, resource usage)

EXAMPLES:

Ticket: "Pipeline job-123 failed with schema mismatch error in users table"
Analysis:
- Category: schema_validation_error
- Root Cause: Column definition mismatch between source and target
- Solution: Run schema_sync_job for users table, then restart pipeline
- Time: 10 minutes
- Confidence: High

Ticket: "Dashboard query timing out after 30 seconds"
Analysis:
- Category: query_optimization
- Root Cause: Query exceeding timeout limit, likely missing indexes
- Solution: Add indexes on date_column and user_id, or increase timeout to 60s
- Time: 20 minutes
- Confidence: High

Ticket: "Need access to prod_analytics database for reporting"
Analysis:
- Category: access_request
- Root Cause: User lacks read permissions
- Solution: Grant viewer role after manager approval verification
- Time: 5 minutes
- Confidence: High

NEW TICKET:
{ticket_description}

Provide your analysis in the same format:
- Category: [category_name]
- Root Cause: [brief explanation]
- Solution: [step-by-step instructions]
- Time: [estimated resolution time]
- Confidence: [High/Medium/Low]
"""</span>

    <span class="comment"># Generate response</span>
    response = model.generate_content(prompt)
    
    <span class="comment"># Parse response (in production, use structured output)</span>
    <span class="keyword">return</span> {
        <span class="string">"raw_response"</span>: response.text,
        <span class="string">"model_used"</span>: <span class="string">"gemini-1.5-pro"</span>
    }


<span class="comment"># Example usage</span>
ticket = <span class="string">"Getting null values in customer_transactions.amount field"</span>
result = classify_support_ticket(ticket)
<span class="keyword">print</span>(result[<span class="string">"raw_response"</span>])
  </div>
  
  <h3>Performance Metrics for L1 Support</h3>
  
  <table style="font-size: 14px;">
    <tr>
      <th>Metric</th>
      <th>Value</th>
      <th>Notes</th>
    </tr>
    <tr>
      <td><strong>Ticket Coverage</strong></td>
      <td>~50%</td>
      <td>Similar to ML but without training</td>
    </tr>
    <tr>
      <td><strong>Response Time</strong></td>
      <td>2-5 seconds</td>
      <td>Depends on prompt length and model</td>
    </tr>
    <tr>
      <td><strong>Development Time</strong></td>
      <td>1-2 weeks</td>
      <td>Mostly prompt engineering and testing</td>
    </tr>
    <tr>
      <td><strong>Cost (500 tickets/month)</strong></td>
      <td>$2,000-$5,000</td>
      <td>Based on Gemini Pro pricing</td>
    </tr>
    <tr>
      <td><strong>Hallucination Rate</strong></td>
      <td>~30%</td>
      <td>Without constraints ‚Äî this is the problem!</td>
    </tr>
    <tr>
      <td><strong>Consistency</strong></td>
      <td>Medium</td>
      <td>Same prompt can give different outputs</td>
    </tr>
  </table>
</section>

<section>
  <h2>üé® Prompt Engineering Techniques</h2>
  
  <h3>1. Zero-Shot Prompting</h3>
  
  <div class="technique-box">
    <h4>What It Is</h4>
    <p>Give the model a task with no examples. Relies purely on the model's pre-trained knowledge.</p>
    
    <h4>When to Use</h4>
    <ul>
      <li>Simple, well-known tasks</li>
      <li>General knowledge questions</li>
      <li>Quick prototyping</li>
    </ul>
    
    <h4>Example</h4>
    <div class="prompt-template">
Classify this support ticket into one of these categories:
- schema_error
- timeout
- access_request
- data_quality

Ticket: "Pipeline failed with schema mismatch"

Category:
    </div>
    
    <h4>Result</h4>
    <div class="example-box">
      <strong>Model Output:</strong> schema_error
    </div>
    
    <div class="warning">
      <strong>Limitation:</strong> Model might not understand your specific categories or domain terminology. 
      Success rate: ~40-60% for domain-specific tasks.
    </div>
  </div>
  
  <h3>2. Few-Shot Prompting (Recommended)</h3>
  
  <div class="technique-box">
    <h4>What It Is</h4>
    <p>Provide 3-5 examples showing the pattern you want. Model learns from examples and applies to new cases.</p>
    
    <h4>When to Use</h4>
    <ul>
      <li>Domain-specific tasks</li>
      <li>Custom output formats</li>
      <li>When you need consistent behavior</li>
    </ul>
    
    <h4>Example</h4>
    <div class="prompt-template">
Classify support tickets using these examples:

<span class="prompt-example">Example 1:
Ticket: "Job timed out after 30 minutes"
Category: pipeline_timeout
Severity: high
Solution: Increase timeout setting</span>

<span class="prompt-example">Example 2:
Ticket: "Need viewer access to analytics DB"
Category: access_request
Severity: low
Solution: Grant read-only role</span>

<span class="prompt-example">Example 3:
Ticket: "Null values in amount column"
Category: data_quality
Severity: high
Solution: Apply data validation rules</span>

<span class="prompt-instruction">Now classify:
Ticket: "Schema validation failed on users table"</span>

Respond in the same format.
    </div>
    
    <h4>Result</h4>
    <div class="example-box">
      <strong>Model Output:</strong><br>
      Category: schema_validation_error<br>
      Severity: high<br>
      Solution: Run schema sync job and restart pipeline
    </div>
    
    <div class="success">
      <strong>Success Rate:</strong> ~70-80% for domain-specific tasks with good examples.
    </div>
  </div>
  
  <h3>3. Chain-of-Thought (CoT) Prompting</h3>
  
  <div class="technique-box">
    <h4>What It Is</h4>
    <p>Ask the model to show its reasoning step-by-step before giving the final answer.</p>
    
    <h4>When to Use</h4>
    <ul>
      <li>Complex problem-solving</li>
      <li>Multi-step reasoning</li>
      <li>When you need to verify logic</li>
    </ul>
    
    <h4>Example</h4>
    <div class="prompt-template">
Analyze this support ticket step-by-step:

Ticket: "Dashboard showing stale data from 3 days ago, but pipeline ran successfully"

<span class="prompt-instruction">Think through this systematically:
1. What could cause stale data despite successful pipeline?
2. What components should we check?
3. What's the most likely root cause?
4. What's the solution?

Show your reasoning, then provide the final answer.</span>
    </div>
    
    <h4>Result</h4>
    <div class="example-box">
      <strong>Model Output:</strong><br><br>
      <strong>Step 1 - Possible Causes:</strong><br>
      - Pipeline might be reading from wrong source<br>
      - Dashboard cache not refreshing<br>
      - Data refresh job running but not updating target table<br><br>
      
      <strong>Step 2 - Components to Check:</strong><br>
      - Pipeline source configuration<br>
      - Dashboard data source connection<br>
      - Last update timestamp in target table<br><br>
      
      <strong>Step 3 - Most Likely:</strong><br>
      Dashboard is connected to old data source or has aggressive caching<br><br>
      
      <strong>Step 4 - Solution:</strong><br>
      Check dashboard data source, clear cache, verify it points to correct table
    </div>
    
    <div class="success">
      <strong>Benefit:</strong> Improved accuracy on complex tasks (20-30% better) and explainable reasoning.
    </div>
  </div>
  
  <h3>4. Role Prompting</h3>
  
  <div class="technique-box">
    <h4>What It Is</h4>
    <p>Assign the model a specific role/persona to guide its behavior and tone.</p>
    
    <h4>Example</h4>
    <div class="prompt-template">
You are a senior L1 support engineer with 5 years experience in banking data platforms.
You are known for:
- Clear, concise explanations
- Systematic troubleshooting approach
- Always including specific SOP references
- Empathetic communication with users

When handling tickets, you always:
1. Acknowledge the user's issue
2. Explain what you found
3. Provide step-by-step solution
4. Give realistic time estimates
5. Sign off professionally

Now handle this ticket: "Pipeline keeps failing, please help!"
    </div>
    
    <h4>Result</h4>
    <div class="example-box">
      <strong>Model Output:</strong><br><br>
      I understand you're experiencing pipeline failures ‚Äî let me help you resolve this.<br><br>
      
      <strong>What I Found:</strong><br>
      Based on the error pattern, this appears to be a recurring timeout issue...<br><br>
      
      <strong>Solution:</strong><br>
      1. First, check current timeout setting (SOP-234)<br>
      2. Review job execution logs for bottlenecks<br>
      3. Increase timeout to 2x current value<br>
      4. Test with a small batch<br><br>
      
      <strong>Timeline:</strong> This should take about 20 minutes to implement and verify.<br><br>
      
      Let me know if you need any clarification!<br>
      ‚Äî Support Team
    </div>
  </div>
  
  <h3>5. Structured Output Prompting</h3>
  
  <div class="technique-box">
    <h4>What It Is</h4>
    <p>Force the model to output in a specific format (JSON, XML, table, etc.).</p>
    
    <h4>Example</h4>
    <div class="prompt-template">
Analyze this ticket and respond ONLY with valid JSON:

{
  "ticket_id": "string",
  "category": "string",
  "severity": "high|medium|low",
  "root_cause": "string",
  "solution_steps": ["step1", "step2", ...],
  "estimated_time_minutes": integer,
  "requires_approval": boolean,
  "sop_reference": "string or null"
}

Ticket: "Need emergency access to production database for audit"

<span class="prompt-instruction">Output ONLY the JSON, nothing else:</span>
    </div>
    
    <h4>Result</h4>
    <div class="code-block" style="font-size: 12px;">
{
  <span class="string">"ticket_id"</span>: <span class="string">"TKT-AUDIT-001"</span>,
  <span class="string">"category"</span>: <span class="string">"access_request_emergency"</span>,
  <span class="string">"severity"</span>: <span class="string">"high"</span>,
  <span class="string">"root_cause"</span>: <span class="string">"Audit team needs read access for compliance review"</span>,
  <span class="string">"solution_steps"</span>: [
    <span class="string">"Verify audit team identity"</span>,
    <span class="string">"Check approval from compliance officer"</span>,
    <span class="string">"Grant temporary read-only access (24 hours)"</span>,
    <span class="string">"Enable audit logging"</span>,
    <span class="string">"Notify security team"</span>
  ],
  <span class="string">"estimated_time_minutes"</span>: <span class="string">15</span>,
  <span class="string">"requires_approval"</span>: <span class="keyword">true</span>,
  <span class="string">"sop_reference"</span>: <span class="string">"SOP-789-Emergency-Access"</span>
}
    </div>
    
    <div class="success">
      <strong>Benefit:</strong> Easy to parse and integrate with downstream systems. Critical for production.
    </div>
  </div>
</section>

<section>
  <h2>‚ö†Ô∏è Common Problems & Solutions</h2>
  
  <h3>Problem 1: Hallucinations</h3>
  
  <div class="danger">
    <h4>The Issue</h4>
    <p>Model invents plausible-sounding but incorrect information.</p>
    
    <div class="example-box" style="margin-top: 15px;">
      <strong>User:</strong> "How do I fix null values in customer_transactions?"<br><br>
      <strong>LLM Response:</strong> "Run UPDATE customer_transactions SET amount = 0 WHERE amount IS NULL"<br><br>
      <strong>Problem:</strong> This could corrupt financial data! Model hallucinated a solution without checking company procedures.
    </div>
  </div>
  
  <div class="success">
    <h4>Solutions</h4>
    <ul>
      <li><strong>Constraint the domain:</strong> "Only suggest solutions from these approved procedures: [list]"</li>
      <li><strong>Add safety check:</strong> "If you're unsure, say 'I don't know' rather than guessing"</li>
      <li><strong>Require sources:</strong> "Cite the documentation you're referencing"</li>
      <li><strong>Use RAG:</strong> Move to Stage 4 for grounded responses (next guide)</li>
    </ul>
    
    <h4>Better Prompt</h4>
    <div class="prompt-template">
You are a support agent. IMPORTANT RULES:
1. Only suggest solutions from approved SOPs
2. If a solution is not in your knowledge, say "This requires L2 escalation"
3. NEVER suggest modifying production data without approval
4. Always include SOP reference number

Available SOPs:
- SOP-101: Schema sync procedures
- SOP-202: Timeout configuration
- SOP-303: Access requests

Ticket: "How do I fix null values in customer_transactions?"
    </div>
    
    <p style="margin-top: 15px;"><strong>Result:</strong> Model will now admit when it doesn't know or escalate appropriately.</p>
  </div>
  
  <h3>Problem 2: Inconsistent Outputs</h3>
  
  <div class="warning">
    <h4>The Issue</h4>
    <p>Same prompt gives different answers each time due to model randomness.</p>
    
    <div class="example-box" style="margin-top: 15px;">
      <strong>Run 1:</strong> "This is a critical issue. Fix immediately."<br>
      <strong>Run 2:</strong> "This is a minor issue. Fix when convenient."<br>
      <strong>Same Input!</strong>
    </div>
  </div>
  
  <div class="success">
    <h4>Solutions</h4>
    <ul>
      <li><strong>Lower temperature:</strong> Set temperature=0.0 for deterministic outputs</li>
      <li><strong>Explicit constraints:</strong> "Rate severity as: critical/high/medium/low ONLY"</li>
      <li><strong>Use seed:</strong> Some models support setting a random seed</li>
      <li><strong>Consider fine-tuning:</strong> Move to Stage 5 for consistency (later guide)</li>
    </ul>
    
    <div class="code-block">
<span class="comment"># Configure for consistency</span>
model = genai.GenerativeModel(
    <span class="string">'gemini-1.5-pro'</span>,
    generation_config={
        <span class="string">"temperature"</span>: <span class="string">0.0</span>,  <span class="comment"># More deterministic</span>
        <span class="string">"top_p"</span>: <span class="string">0.1</span>,      <span class="comment"># Less randomness</span>
        <span class="string">"top_k"</span>: <span class="string">1</span>         <span class="comment"># Most likely token</span>
    }
)
    </div>
  </div>
  
  <h3>Problem 3: High Token Costs</h3>
  
  <div class="warning">
    <h4>The Issue</h4>
    <p>Long prompts with many examples = high API costs at scale.</p>
    
    <div class="example-box" style="margin-top: 15px;">
      <strong>Scenario:</strong> 500 tickets/month, 2000 tokens per prompt<br>
      <strong>Cost:</strong> 500 √ó 2000 = 1M tokens/month = $3-5K/month<br>
      <strong>Problem:</strong> Not sustainable at scale
    </div>
  </div>
  
  <div class="success">
    <h4>Solutions</h4>
    <ul>
      <li><strong>Use smaller model:</strong> Gemini Flash instead of Pro (cheaper, faster)</li>
      <li><strong>Reduce examples:</strong> Find minimum examples needed (3 instead of 10)</li>
      <li><strong>Batch processing:</strong> Process multiple tickets in one call</li>
      <li><strong>Cache prompts:</strong> Use prompt caching for repeated content</li>
      <li><strong>Consider fine-tuning:</strong> Lower per-query cost at high volume</li>
    </ul>
    
    <h4>Cost Optimization</h4>
    <div class="code-block">
<span class="comment"># Use cheaper Flash model for simple classification</span>
model_flash = genai.GenerativeModel(<span class="string">'gemini-1.5-flash'</span>)

<span class="comment"># Batch multiple tickets</span>
prompt = <span class="string">"""Classify these 5 tickets:

1. {ticket1}
2. {ticket2}
3. {ticket3}
4. {ticket4}
5. {ticket5}

Return JSON array of classifications."""</span>

<span class="comment"># Result: 5x throughput, lower cost per ticket</span>
    </div>
  </div>
</section>

<section>
  <h2>üí° Best Practices for Production</h2>
  
  <div class="grid">
    <div class="card">
      <h4>1. Start Simple</h4>
      <p style="font-size: 14px;">Begin with zero-shot, add examples only if needed. Don't over-engineer.</p>
    </div>
    
    <div class="card">
      <h4>2. Test Extensively</h4>
      <p style="font-size: 14px;">Run prompt on 50+ real tickets. Check for hallucinations, edge cases, failures.</p>
    </div>
    
    <div class="card">
      <h4>3. Version Your Prompts</h4>
      <p style="font-size: 14px;">Track prompt changes like code. Use git. Document what works and what doesn't.</p>
    </div>
    
    <div class="card">
      <h4>4. Monitor in Production</h4>
      <p style="font-size: 14px;">Log inputs, outputs, user feedback. Track hallucination rate, response quality.</p>
    </div>
    
    <div class="card">
      <h4>5. Set Constraints</h4>
      <p style="font-size: 14px;">Explicitly tell model what NOT to do. Define allowed actions. Require escalation for edge cases.</p>
    </div>
    
    <div class="card">
      <h4>6. Use Structured Outputs</h4>
      <p style="font-size: 14px;">Always request JSON/XML for downstream processing. Never parse free text in production.</p>
    </div>
  </div>
  
  <h3>Production Prompt Template</h3>
  
  <div class="code-block">
<span class="keyword">def</span> <span class="function">create_production_prompt</span>(ticket: <span class="keyword">str</span>, 
                             user_context: Dict,
                             approved_sops: List[<span class="keyword">str</span>]) -> <span class="keyword">str</span>:
    <span class="string">"""
    Production-grade prompt with safety constraints.
    """</span>
    
    prompt = <span class="string">f"""You are an L1 IT Support Agent for banking data platform.

CRITICAL SAFETY RULES:
1. Only suggest solutions from approved SOPs: {', '.join(approved_sops)}
2. NEVER suggest modifying production data without explicit approval
3. If uncertain, respond with: "Requires L2 escalation"
4. Always include SOP reference in your response
5. Rate severity objectively: critical/high/medium/low

USER CONTEXT:
- Department: {user_context['department']}
- Access Level: {user_context['access_level']}
- Previous Tickets: {user_context['ticket_history_summary']}

RESPONSE FORMAT (JSON ONLY):
{{
  "category": "string",
  "severity": "critical|high|medium|low",
  "root_cause": "string",
  "solution_steps": ["step1", "step2"],
  "estimated_minutes": integer,
  "sop_reference": "string",
  "escalate": boolean,
  "escalation_reason": "string or null"
}}

TICKET:
{ticket}

Respond with ONLY the JSON object, no additional text."""</span>

    <span class="keyword">return</span> prompt
  </div>
</section>

<section>
  <h2>üìä When to Use GenAI Prompting</h2>
  
  <h3>‚úÖ Use GenAI Prompting When:</h3>
  
  <ul style="line-height: 2;">
    <li><strong>Rapid prototyping</strong> ‚Äî Need to test idea in days not weeks</li>
    <li><strong>Natural language understanding</strong> ‚Äî Users express issues in many ways</li>
    <li><strong>Low to medium volume</strong> ‚Äî &lt;10K requests/day</li>
    <li><strong>Flexible requirements</strong> ‚Äî Task evolves frequently</li>
    <li><strong>No training data</strong> ‚Äî Can't collect 1000s of labeled examples</li>
    <li><strong>Non-critical applications</strong> ‚Äî Occasional errors are acceptable</li>
  </ul>
  
  <h3>‚ùå Don't Use GenAI Prompting When:</h3>
  
  <ul style="line-height: 2;">
    <li><strong>Zero tolerance for errors</strong> ‚Äî Financial transactions, medical decisions</li>
    <li><strong>High volume</strong> ‚Äî 100K+ requests/day (costs become prohibitive)</li>
    <li><strong>Latency critical</strong> ‚Äî Need &lt;500ms response time</li>
    <li><strong>Need deterministic behavior</strong> ‚Äî Same input must always give same output</li>
    <li><strong>Highly specialized domain</strong> ‚Äî Model lacks domain knowledge (use fine-tuning)</li>
    <li><strong>Need source citations</strong> ‚Äî Must prove where information came from (use RAG)</li>
  </ul>
  
  <h3>Evolution Trigger: Why We Need Stage 4 (RAG)</h3>
  
  <div class="danger">
    <strong>The Critical Problem with Pure Prompting:</strong>
    
    <div class="example-box" style="margin-top: 15px;">
      <strong>Scenario:</strong> User asks "What's the procedure for handling schema errors?"<br><br>
      
      <strong>GenAI Response:</strong> "Run the schema sync job, restart the pipeline, and verify the data..."<br><br>
      
      <strong>Problems:</strong><br>
      1. ‚ùå No source citation ‚Äî can't verify accuracy<br>
      2. ‚ùå Might be outdated ‚Äî procedures changed last month<br>
      3. ‚ùå Could be hallucinated ‚Äî model might have invented steps<br>
      4. ‚ùå No compliance trail ‚Äî banking requires documented sources<br><br>
      
      <strong>What We Need:</strong> A way to ground responses in actual, current documentation with verifiable sources.
      ‚Üí This is why Stage 4 (RAG) was created!
    </div>
  </div>
</section>

<section>
  <h2>üîó Next Steps</h2>
  
  <div class="grid">
    <div class="card">
      <h3>Continue Learning</h3>
      <ul style="font-size: 14px;">
        <li><a href="04-rag.html">Stage 4: RAG Implementation</a> (Next)</li>
        <li><a href="master-evolution-guide.html">Back to Master Guide</a></li>
        <li><a href="00-QUICK-START.html">Quick Start Hub</a></li>
      </ul>
    </div>
    
    <div class="card">
      <h3>Hands-On Practice</h3>
      <ul style="font-size: 14px;">
        <li>Get Gemini API key</li>
        <li>Try the code examples</li>
        <li>Experiment with prompts</li>
        <li>Build ticket classifier</li>
      </ul>
    </div>
    
    <div class="card">
      <h3>Resources</h3>
      <ul style="font-size: 14px;">
        <li><a href="https://ai.google.dev/gemini-api" target="_blank">Gemini API Docs</a></li>
        <li><a href="https://www.promptingguide.ai/" target="_blank">Prompting Guide</a></li>
        <li><a href="code-examples/03-prompting/">Code Examples</a></li>
      </ul>
    </div>
  </div>
</section>

<footer style="text-align: center; padding: 40px; background: #f5f7fa; color: #666; font-size: 14px;">
  <p>¬© 2025 ‚Äî GenAI & Prompting Guide ‚Ä¢ Stage 3 of AI Evolution Series</p>
  <p style="margin-top: 10px;">Banking AI & Data Platform ‚Ä¢ Internal Training</p>
</footer>

</body>
</html>
